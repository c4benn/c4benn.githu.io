(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{347:function(e,t,r){var content=r(421);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(43).default)("be500700",content,!0,{sourceMap:!1})},420:function(e,t,r){"use strict";r(347)},421:function(e,t,r){var o=r(42)(!1);o.push([e.i,".root[data-dfm]{--x-padding:1.15rem;max-width:612px;margin:0 auto}.form[data-dfm]{margin:1rem 0 4rem;position:relative;padding:0 var(--x-padding) 2.5rem;display:grid}.title[data-dfm]{padding:0 var(--x-padding);margin:calc(1rem + var(--x-padding)) 0 calc(.5rem + var(--x-padding));font-size:1.25rem;font-weight:600;opacity:var(--t-body)}.forgot-password[data-dfm]{margin:-.75rem 0 1rem!important;padding:2px 8px!important}.submit[data-dfm]{width:calc(100% - 3rem);margin:2.75rem auto}.alt-register[data-dfm]{text-align:center;font-size:1.1rem}.sign-up-action[data-dfm]{font-size:1.1rem!important}",""]),e.exports=o},558:function(e,t,r){"use strict";r.r(t);r(16),r(11),r(12),r(17),r(18);var o=r(6),n=r(1),l=r(3),main=(r(29),r(20),r(33),r(37),r(10),r(91),r(36),r(0));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"DeliveryForm",props:{nameValidator:{type:Function,required:!0},passwordValidator:{type:Function,required:!0},emailValidator:{type:Function,required:!0},payload:{type:Object,required:!0},title:{type:String,default:"Delivery info"},showAppendDialog:{type:Boolean,required:!0},selectDialogTemplate:{type:Object,required:!0},selectValue:{type:String,required:!0},disableTitleIntersection:Boolean,template:{type:String,required:!0}},data:function(){return{form:{name:"",phone:"",email:"",country:"Nigeria",state:"Lagos",city:"",address:"",save:!1,isCorrect:!1},submitText:"Add Delivery Info"}},computed:{fetchedStates:function(){return this.$store.state.bagPageFetchedStates},supabase:function(){return this.$store.getters.supabase},savedDelivery:function(){return this.$store.state.savedDeliveryInfo}},created:function(){this.$emit("title-intersecting",!1),/^main$/i.test(this.template)&&"object"==Object(l.a)(this.savedDelivery)&&null!==this.savedDelivery?(this.submitText="Update Delivery Info",this.form.name=this.savedDelivery.name,this.form.phone=this.savedDelivery.tel.replace(/\(.+\)/,"").replace(/-/g," "),this.form.email=this.savedDelivery.email,this.form.state=this.savedDelivery["address-level1"],this.form.city=this.savedDelivery["address-level2"],this.form.address=this.savedDelivery["street-address"],this.form.save=this.savedDelivery["save info"],this.$emit("select-vmodel",{label:"city",value:this.form.city}),this.$emit("select-vmodel",{label:"state",value:this.form.state})):this.submitText="Add Delivery Info"},mounted:function(){var e=this;this.$nextTick((function(){requestAnimationFrame(Object(n.a)(regeneratorRuntime.mark((function t(){var r,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.fetchedStates&&"Error fetching"!=e.fetchedStates){t.next=9;break}if(e.$nuxt.isOnline){t.next=3;break}return t.abrupt("return",e.updateFetchedStates("Error fetching"));case 3:return t.next=5,e.supabase.from("nigerianstates").select("*");case 5:r=t.sent,o=r.data,r.error?e.updateFetchedStates("Error fetching"):(n={},o.forEach((function(e){n[e.state]=JSON.parse(e.cities)})),e.updateFetchedStates(n));case 9:case"end":return t.stop()}}),t)}))))}))},methods:{updateFetchedStates:function(e){this.$store.commit("UPDATE_",{name:"bagPageFetchedStates",value:e})}},render:function(e){var t,r,o=this,l={"data-dfm":""},input=function(t){return e("ui-input",t)};return function(t,r){return e("div",t,r)}({attrs:c({},l),staticClass:"root"},[this.$slots.prepend,[(r={props:{config:{target:this.$el}},scopedSlots:{default:function(t){return o.$emit("title-intersecting",t.isIntersecting),r={attrs:c({},l),staticClass:"title"},n=o.title,e("p",r,n);var r,n}}},e("ui-intersection",r)),function(t,r){return e("ui-form",t,r)}({props:{name:"delivery form",submitData:{attrs:c({},l),props:{background:"info",flat:!0,actionButton:!0},staticClass:"submit"},submitText:this.submitText},attrs:c(c({},l),{},{action:".","aria-label":"delivery form"}),staticClass:"form fill-before",on:{"submit-form":(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.$nextTick((function(){return requestAnimationFrame((function(){return o.$emit("form-submitted",c(c({},t),{},{submitText:o.submitText}))}))})),e.next=3,main.updateDeliveryInfo.call(o,{value:t});case 3:return e.next=5,main.sleep.call(o,1e3);case 5:null===(r=o.payload)||void 0===r||r.close();case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}},[input({props:{label:"Name",autocomplete:"name",id:"delivery-name",placeholder:"Egwu Sade",vmodel:this.form.name,validator:this.nameValidator,pattern:".+"},on:{vmodel:function(e){o.form.isCorrect=!1,o.form.name=e}}}),input({props:{label:"Phone",autocomplete:"tel",id:"delivery-phone",type:"tel",appendValue:"+234",placeholder:"801 2345 678",pattern:"^\\s*?\\d{3}\\s+\\d{1,3}(\\s+?\\d{1,4})?\\s*?$",vmodel:this.form.phone,validator:function(e){var t=e.trim();return t.length?/[a-zA-Z]+/g.test(e)?"Numbers only":t.length<4?"Min length is 4":!(t.length>12)||"Max length is 10":"Required"}},on:{vmodel:function(e){o.form.isCorrect=!1,o.form.phone=Object(main.formatTel)(e)}}}),input({props:{label:"Email",type:"email",autocomplete:"email",id:"delivery-email",placeholder:"example@domain",vmodel:this.form.email,pattern:"^\\s*?[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*\\s*?$",validator:this.emailValidator},on:{vmodel:function(e){o.form.isCorrect=!1,o.form.email=e}}}),["State","City"].map((function(e,t){return input({key:t,props:{appendValue:e.appendValue,readonly:"State"==e,autocomplete:"State"==e?"address-level1":"address-level2",label:e,id:"delivery-".concat(e).toLowerCase(),placeholder:o.$nuxt.isOnline?"Error fetching"==o.fetchedStates?"Error fetching":o.form.state||1!=t?"Choose ".concat(e):"Choose State":"Network error",type:"select",template:"select",vmodel:1==t?o.selectValue:o.form[e.toLowerCase()],pattern:".+",validator:function(e){return!!e.trim().length||"Required"},disabled:"Error fetching"==o.fetchedStates||!o.form.state&&1==t,loading:null===o.fetchedStates,selectToggled:o.showAppendDialog&&o.selectDialogTemplate.label==e},on:{vmodel:function(t){o.form[e.toLowerCase()]=Object(main.capitalize)(t),o.form.isCorrect=!1,o.$emit("select-vmodel",{value:Object(main.capitalize)(t),label:e.toLowerCase()})},"toggle-select":function(){o.$emit("toggle-select",e)}}})})),input({props:{label:"Address",id:"delivery-address",placeholder:"number, street name, closest bus stop",type:"address",vmodel:this.form.address,minlength:"10",autocomplete:"street-address",validator:function(e){var t=e.trim();return t.length?!(t.length<10)||"Min length is 10":"Required"}},on:{vmodel:function(e){o.form.isCorrect=!1,o.form.address=e}}}),input({props:{label:"Save info",id:"delivery-save-info",type:"switch",vmodel:this.form.save,required:!1,validator:function(){return!0},topSlot:!1,hint:this.form.save?"Your current delivery info will be ".concat(this.$store.state.isPWA?"remembered for next time":"saved on <em>this</em> browser","."):"Your current delivery info will be cleared on your next visit."},on:{vmodel:function(e){o.form.save=e}}}),input({props:{label:"Information is correct",id:"delivery-info-correct",title:this.form.isCorrect?"information is correct":"information is incorrect",type:"switch",vmodel:this.form.isCorrect,validator:function(e){return!0===e||"Required"},required:!0},on:{vmodel:function(e){o.form.isCorrect=e}}})])]])}},f=(r(420),r(9)),component=Object(f.a)(m,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{319:function(t,e,r){"use strict";var o=r(5),n=r(27),d=r(44),c=r(34),l=r(8),m=r(320),f=r(146),h=r(321),w=r(322),v=r(92),y=r(323),k=[],C=k.sort,P=l((function(){k.sort(void 0)})),x=l((function(){k.sort(null)})),O=f("sort"),M=!l((function(){if(v)return v<70;if(!(h&&h>3)){if(w)return!0;if(y)return y<603;var code,t,e,r,o="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)k.push({k:t+r,v:e})}for(k.sort((function(a,b){return b.v-a.v})),r=0;r<k.length;r++)t=k[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:P||!x||!O||!M},{sort:function(t){void 0!==t&&n(t);var e=d(this);if(M)return void 0===t?C.call(e):C.call(e,t);var r,o,l=[],f=c(e.length);for(o=0;o<f;o++)o in e&&l.push(e[o]);for(r=(l=m(l,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:String(e)>String(r)?1:-1}}(t))).length,o=0;o<r;)e[o]=l[o++];for(;o<f;)delete e[o++];return e}})},320:function(t,e){var r=Math.floor,o=function(t,e){var c=t.length,l=r(c/2);return c<8?n(t,e):d(o(t.slice(0,l),e),o(t.slice(l),e),e)},n=function(t,e){for(var element,r,o=t.length,i=1;i<o;){for(r=i,element=t[i];r&&e(t[r-1],element)>0;)t[r]=t[--r];r!==i++&&(t[r]=element)}return t},d=function(t,e,r){for(var o=t.length,n=e.length,d=0,c=0,l=[];d<o||c<n;)d<o&&c<n?l.push(r(t[d],e[c])<=0?t[d++]:e[c++]):l.push(d<o?t[d++]:e[c++]);return l};t.exports=o},321:function(t,e,r){var o=r(90).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},322:function(t,e,r){var o=r(90);t.exports=/MSIE|Trident/.test(o)},323:function(t,e,r){var o=r(90).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},330:function(t,e,r){var content=r(388);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("4dec426a",content,!0,{sourceMap:!1})},387:function(t,e,r){"use strict";r(330)},388:function(t,e,r){var o=r(42)(!1);o.push([t.i,".root[data-rpd-pg]{margin-top:var(--header-height);isolation:isolate;min-height:calc(100vh - var(--header-height));padding:2.5rem 1.5rem 1.5rem;background:var(--theme-primary)}.greeting[data-rpd-pg]{margin-bottom:.75rem}.greet[data-rpd-pg]{font-size:1.25rem;opacity:var(--t-body)}.name[data-rpd-pg]{font-size:1.35rem;font-weight:600;opacity:var(--t-title)}.desc[data-rpd-pg]{opacity:var(--t-subtitle)}.form[data-rpd-pg]{max-width:612px;margin:3rem auto 0;display:grid}.form[data-rpd-pg]>.root[data-uiit]{margin-right:0!important}.submit[data-rpd-pg]{margin-top:2rem;width:calc(100% - 3rem)!important;justify-self:center;display:flex!important;justify-content:center;align-items:center}.completed[data-rpd-pg]{display:grid;grid-template-rows:min(200px,20vmax) auto auto;grid-row-gap:2rem;row-gap:2rem}.checked[data-rpd-pg],.checked[data-rpd-pg]>svg{width:100%;height:100%;color:var(--success)}.c-desc[data-rpd-pg]{text-align:center;font-size:1.35rem;opacity:var(--t-title);margin-top:1rem;line-height:1.5}.actions-wrapper[data-rpd-pg]{display:grid;grid-row-gap:1.5rem;row-gap:1.5rem;justify-items:center;margin-top:2rem;margin-bottom:4rem}.action[data-rpd-pg]{min-width:256px!important}",""]),t.exports=o},541:function(t,e,r){"use strict";r.r(e);r(16),r(11),r(12),r(17),r(10),r(18);var o=r(1),n=r(6),d=(r(29),r(91),r(20),r(36),r(33),r(37),r(319),r(0));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"ResetPassword",beforeRouteLeave:function(t,e,r){this.$store.commit("V_MODEL",{path:"text",innerPath:"headerContent",value:""}),r()},data:function(){return{form:{password:"",confirmPassword:"",keepMeSignedIn:!1,showPassword:!1,showConfirmPassword:!1},showComplete:!1,submitting:!1,renderedComponents:[]}},head:function(){return{title:"Reset your password"}},computed:l(l({},d.uiMount.computed),{},{passwordValidator:function(){var t,e=null===(t=this.form.password)||void 0===t?void 0:t.trim();return e.length?!(e.length<6)||"Min length is 6":"Required"},user:function(){return this.$store.state.user},supabase:function(){return this.$store.getters.supabase}}),watch:l({},d.uiMount.watch),beforeCreate:function(){this.$store.commit("V_MODEL",{path:"showBorder",innerPath:"headerContent",value:!0}),this.$store.commit("V_MODEL",{path:"showText",innerPath:"headerContent",value:!0})},created:function(){this.showComplete=!1,this.submitting=!1},beforeMount:function(){var t=this.$store.state.initialRoute.hash;/&type=recovery/i.test(t)||this.supabase.auth.user()||this.$router.push("/")},mounted:function(){var t=this;this.$nextTick((function(){t.$store.commit("V_MODEL",{path:"text",innerPath:"headerContent",value:"Reset Password"})})),this.mountSelf()},methods:{mountSelf:function(){this.selfMounted&&(this.$store.commit("FETCHED",{value:this.$route.path,path:"pages"}),this.$store.commit("V_MODEL",{path:"loadingBar",value:!1}),this.$store.commit("UPDATE_",{path:"showPageLoading",value:!1}))}},render:function(t){var e,r,n=this,c={"data-rpd-pg":""},p=function(e,r){return t("p",e,r)},span=function(e,r){return t("span",e,r)},form=function(e,r){return t("ui-form",e,r)},m=function(e){return t("input",e)},div=function(e,r){return t("div",e,r)},f=function(){return function(e,r){return t("main",e,r)}({key:"form-field",attrs:l({},c),staticClass:"form-field"},[p({attrs:l({},c),staticClass:"greeting"},[span({attrs:l({},c),staticClass:"greet"},"Good ".concat(n.$greeting," ")),span({attrs:l({},c),staticClass:"name"},[n.user.name]),","]),p({attrs:l({},c),staticClass:"desc"},"Reset your password below."),form({attrs:l({},c),staticClass:"form",props:{submitText:"Reset Password",submitData:{props:{background:"info",actionButton:!0,block:!0,flat:!0,disabled:n.submitting},attrs:l({},c),staticClass:"submit"}},on:{"submit-form":(f=Object(o.a)(regeneratorRuntime.mark((function t(){var e,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.submitting=!0,t.next=3,n.supabase.auth.update({password:n.form.password,data:{name:n.user.name}});case 3:if(e=t.sent,r=e.user,o=e.error,n.submitting=!1,o||"authenticated"!=(null==r?void 0:r.aud)){t.next=17;break}return window.scrollTo(0,0),t.next=11,d.sleep.call(n,16);case 11:return n.showComplete=!0,!n.form.keepMeSignedIn&&n.supabase.auth.signOut(),t.next=15,d.sleep.call(n,300);case 15:n.form.password="",n.form.confirmPassword="";case 17:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})}},[n.submitting&&(e={slot:"submitText",props:{size:"1.5rem"}},t("app-loader",e,r)),m({attrs:l(l({},c),{},{autocomplete:"username",value:n.user.email||"user",placeholder:"Username",title:"username"}),staticClass:"sr-only"}),[{label:"New password",placeholder:"6+ characters",vmodel:"password",validator:function(){return n.passwordValidator},showPassword:"showPassword",required:!0,autocomplete:"new-password",disabled:n.submitting},{label:"Confirm password",placeholder:!0===n.passwordValidator?"Must match new password":"Enter a valid password",vmodel:"confirmPassword",disabled:!0!==n.passwordValidator||n.submitting,validator:function(t){return(null==t?void 0:t.trim()).length?!0!==n.passwordValidator?"Invalid password":t===n.form.password||"Passwords must match":"Required"},showPassword:"showConfirmPassword",required:!0,autocomplete:"new-password"},{label:"Keep me signed in",vmodel:"keepMeSignedIn",validator:function(){return!0},type:"switch",required:!1,topSlot:!1,hint:n.form.keepMeSignedIn?"You will be automatically signed in after resetting your password":"You won't be signed in after resetting your password",disabled:n.submitting}].map((function(e,r){return function(e,r){return t("ui-input",e,r)}({key:r,props:{label:e.label,type:e.type||"password",placeholder:e.placeholder,vmodel:n.form[e.vmodel],validator:e.validator,disabled:e.disabled,showPassword:n.form[e.showPassword],hint:e.hint,topSlot:e.topSlot,required:e.required,id:e.label.replace(/\s+/g,"-").toLowerCase(),autocomplete:e.autocomplete},on:{vmodel:function(t){n.form[e.vmodel]=t},"append-click":function(){n.form[e.showPassword]=!n.form[e.showPassword]}}})}))])]);var e,r,f},h=function(){return div({key:"completed",attrs:l({},c),staticClass:"completed"},[t("svg-checked",{attrs:l({},c),staticClass:"checked"}),p({attrs:l({},c),staticClass:"c-desc"},["Your password has been succesfully updated!"]),div({attrs:l({},c),staticClass:"actions-wrapper"},[{text:n.form.keepMeSignedIn?"View Account":"View Shop",background:"info",to:"/profile"},{text:n.form.keepMeSignedIn?"View Account":"Exit PRD",color:"info",to:"/",isBtn:!n.form.keepMeSignedIn}].sort((function(a,b){return n.form.keepMeSignedIn?a-b:b-a})).map((function(e,r){return o={key:r,props:{background:e.background,color:e.color,tag:e.isBtn?void 0:"nuxt-link",to:e.to,actionButton:!0,flat:!0},attrs:l({},c),staticClass:"action action-".concat(r+1),on:e.isBtn?{"!click":function(){return window.location.href="about:blank"}}:void 0},n=e.text,t("ui-btn",o,n);var o,n})))])};return div({attrs:l({},c),staticClass:"root"},[(e={props:{transition:{leave:"slide-y(1rem)",enter:"slide-y(-1rem)"},ease:"ease"},scopedSlots:{default:function(){return[n.showComplete?h():f()]}}},t("ui-transition",e,r))])}},f=(r(387),r(9)),component=Object(f.a)(m,undefined,undefined,!1,null,null,null);e.default=component.exports}}]);
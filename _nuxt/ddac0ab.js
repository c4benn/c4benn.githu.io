(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{349:function(t,e,r){var content=r(426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("580c3ce0",content,!0,{sourceMap:!1})},424:function(t,e,r){"use strict";var n=r(5),o=r(149).start,d=r(231)("trimStart"),c=d?function(){return o(this)}:"".trimStart;n({target:"String",proto:!0,forced:d},{trimStart:c,trimLeft:c})},425:function(t,e,r){"use strict";r(349)},426:function(t,e,r){var n=r(42)(!1);n.push([t.i,".root[data-dis]{position:relative;padding:0 1.25rem 2.5rem;margin-bottom:2rem;display:grid;overflow-x:hidden}.root[data-dis]:before{border-bottom:var(--ui-divide)}.title[data-dis]{position:relative;display:flex;justify-content:flex-start;align-items:center;overflow:hidden;opacity:var(--t-title)}.status[data-dis]{position:absolute;top:-.25rem;right:0;color:var(--success);font-size:.9rem;padding-right:1rem;transition:opacity .3s,transform .3s}.status[data-dis]:not(.show){opacity:0;transform:translate3d(50%,0,0)}.desc[data-dis]{margin:1rem 0;opacity:var(--t-subtitle);font-weight:400!important;font-size:1rem!important}.input-wrapper[data-dis]{border-radius:var(--rounded);position:relative;min-height:84px;padding:1.5rem 0;display:grid;isolation:isolate}.input-wrapper[data-dis]:before{background-color:currentColor;transition:0s;opacity:0;z-index:1;height:calc(100% - 3rem);top:1.5rem}@media (hover:hover) and (pointer:fine){.input-wrapper[data-dis]:not(.saved):hover:before{opacity:.1}.input-wrapper[data-dis]:not(.saved):hover:after{border-width:2px;opacity:.5}.input-wrapper[data-dis]:not(.saved)[focus-within]:before{visibility:hidden}.input-wrapper[data-dis]:not(.saved):focus-within:before{visibility:hidden}}.input-wrapper[data-dis]:not(.saved)[focus-within]:after{opacity:1;border-width:2.5px;border-color:var(--warning)}.input-wrapper[data-dis]:not(.saved):focus-within:after{opacity:1;border-width:2.5px;border-color:var(--warning)}.input-wrapper[data-dis]:after{z-index:1;transition:opacity .15s linear;height:calc(100% - 3rem);top:1.5rem}.input-wrapper[data-dis]:not(.saved):after{border:var(--ui-divide);border-width:1px;width:100%;left:0}.hint[data-dis]{font-size:.85rem;opacity:var(--t-subtitle);position:absolute;bottom:0;left:.5rem;z-index:-1}.quote[data-dis]{padding:1rem;border-radius:4px;background-color:var(--theme-banner);margin:0 1rem;letter-spacing:.5px;line-height:1.5;min-height:84px;max-width:100%;overflow:auto;word-break:break-word;position:relative}.quote[data-dis]>span{border:var(--ui-divide);width:calc(100% - 1px);left:.5px}.input[data-dis]{min-height:84px;border-radius:inherit;background-color:var(--theme-banner);position:relative;cursor:pointer;padding:.75rem;font-size:16px;font-family:inherit;resize:none;width:100%;color:inherit;outline:none;border:none;line-height:1.5;caret-color:currentColor}.input[data-dis]::-moz-placeholder{font-size:14px;opacity:var(--t-caption);color:inherit}.input[data-dis]:-ms-input-placeholder{font-size:14px;opacity:var(--t-caption);color:inherit}.input[data-dis]::placeholder{font-size:14px;opacity:var(--t-caption);color:inherit}.action-wrapper[data-dis]{display:grid;align-items:center;justify-items:center;place-items:center;grid-gap:1rem;gap:1rem;margin:1rem auto .5rem}.action-wrapper[data-dis].two-cols{grid-template-columns:1fr 1fr}.action-wrapper[data-dis].saved{grid-template-columns:1fr}.dyn-action[data-dis]{min-width:128px;justify-self:flex-start}.dyn-action.saved[data-dis]{text-decoration:underline!important;justify-self:center}.cancel[data-dis]{min-width:128px;justify-self:flex-end}",""]),t.exports=n},560:function(t,e,r){"use strict";r.r(e);r(16),r(11),r(12),r(17),r(10),r(18);var n=r(1),o=r(6),main=(r(29),r(424),r(0));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={name:"DeliveryInstructions",data:function(){return{vmodel:"",saved:!1,recentStyle:void 0,renderStatus:!1,showStatus:!1,statusTimeStamp:null,insertingText:!1,inputFocused:!1}},computed:{showCancel:function(){return!this.saved&&(this.savedVmodel.length||this.vmodel.length)},savedVmodel:function(){return this.$store.state.savedDeliveryInstructions}},watch:{saved:function(){var input=this.$refs.input;input&&(this.recentStyle=input.style.cssText)}},mounted:function(){this.saved=!!this.savedVmodel.length,this.$store.commit("FETCHED",{value:"deliveryInstructions",path:"components"})},methods:{updateSavedInstruction:function(t){this.$store.commit("UPDATE_",{name:"savedDeliveryInstructions",value:t})}},render:function(t){var e,r,o=this,d={"data-dis":""},div=function(e,r){return t("div",e,r)},span=function(e,r){return t("span",e,r)},l=function(e,r){return t("ui-btn",e,r)},h=this.vmodel.length;return div({attrs:c({},d),staticClass:"root fill-before"},[function(e,r){return t("h2",e,r)}({attrs:c({},d),staticClass:"title"},[(e={props:{name:"commentQuestion"},attrs:c({},d),staticClass:"title-deco"},t("ui-icon",e,r)),"Instructions"]),function(e,r){return t("h3",e,r)}({attrs:c({},d),staticClass:"desc"},[this.saved?"Your instructions has been saved, and we will make sure to carry it out.":"Have any instructions regarding your delivery? Feel free to write it down below."]),div({attrs:c({},d),staticClass:"input-wrapper",class:[{saved:this.saved,"fill-before-after":!this.saved},"".concat(this.$theme.is,"-theme")]},[this.renderStatus&&this.saved&&function(e,r){return t("p",e,r)}({attrs:c(c({},d),{},{"aria-hidden":"true"}),staticClass:"status",class:[{show:this.showStatus&&this.renderStatus}]},"Saved!"),this.saved&&this.savedVmodel.length?function(e,r){return t("q",e,r)}({attrs:c({},d),staticClass:"quote"},[" ".concat(this.savedVmodel," "),span({attrs:c({},d),staticClass:"pseudo"})]):[function(e){return t("textarea",e)}({ref:"input",attrs:c(c({},d),{},{spellcheck:"false",value:this.vmodel,placeholder:"".concat(this.inputFocused?"Add":"Click to add"," delivery instruction"),maxlength:"200"}),domProps:{value:this.vmodel.trimLeft()},staticClass:"input",style:this.recentStyle,on:{focus:function(){o.inputFocused=!0},blur:function(t){o.inputFocused=!1,o.vmodel.trimLeft().length||(o.vmodel="",t.currentTarget.value="")},input:function(t){o.insertingText=t.data||/insertFromPaste/i.test(null==t?void 0:t.inputType);var e=o.$refs.input.scrollHeight;84!=e&&o.$nextTick((function(){o.$refs.input.style.height="",e=o.$refs.input.scrollHeight,requestAnimationFrame((function(){o.$refs.input.style.height="".concat(e,"px")}))})),o.saved=!1,o.vmodel.length<=200&&(o.vmodel=t.currentTarget.value.trimLeft())}}}),h?span({attrs:c({},d),staticClass:"hint",class:[{"warning-text":h>180&&h<200,"bounce-top":h>180&&h<200&&this.insertingText,"error-text vibrate":h>=200}]},"".concat(h,"/200")):null]]),this.savedVmodel||this.vmodel?div({attrs:c({},d),staticClass:"action-wrapper",class:[{saved:this.saved,"two-cols":this.showCancel}]},[this.showCancel?l({attrs:c(c({},d),{},{title:"cancel"}),props:{color:"error",flat:!0,filledText:!0,shape:"pill"},staticClass:"cancel",on:{"!click":function(){o.savedVmodel.length?o.saved=!0:o.vmodel=""}}},"Cancel"):null,l({key:"".concat(this.saved),props:{background:this.saved?void 0:"info",color:this.saved?"info":void 0,flat:!0,disabled:!this.vmodel.length&&!this.savedVmodel.length,simpleButton:!0,filledText:this.saved,shape:"pill"},attrs:c(c({},d),{},{title:"".concat(this.saved?"edit":"save"," instructions")}),staticClass:"dyn-action",class:[{saved:this.saved}],on:{"!click":function(){o.vmodel.length||o.saved?(o.saved=!o.saved,o.$nextTick((function(){if(o.saved){o.updateSavedInstruction(o.vmodel),o.renderStatus=!0;var t=performance.now();o.statusTimeStamp=t,requestAnimationFrame(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.showStatus=!0,e.next=3,main.sleep.call(o,2516);case 3:return o.statusTimeStamp==t&&(o.showStatus=!1),e.next=6,main.sleep.call(o,316);case 6:o.statusTimeStamp==t&&(o.renderStatus=!1);case 7:case"end":return e.stop()}}),e)}))))}var e,input=o.$refs.input;o.saved||(o.savedVmodel.length&&(o.vmodel=o.savedVmodel),input&&(input.selectionEnd=o.vmodel.length,null==input||null===(e=input.focus)||void 0===e||e.call(input)))}))):o.updateSavedInstruction(o.vmodel)}}},[this.saved?"Edit":"Save"])]):null])}},h=(r(425),r(9)),component=Object(h.a)(l,undefined,undefined,!1,null,null,null);e.default=component.exports}}]);